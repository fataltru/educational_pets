# Оценка результатов A/B-теста (внедрение улучшенной рекомендательной системы)

## Описание и задача проекта

Перед внедрением улучшенной рекомендательной системы, было решено провести A/B-тест (старая/новая). Требуется провести оценку результатов A/B-теста, а именно выполнить предоставленное ТЗ

## Техническое задание

1. Название теста: recommender_system_test;
2. Группы: А (контрольная), B (новая платёжная воронка);
3. Дата запуска: 2020-12-07;
4. Дата остановки набора новых пользователей: 2020-12-21;
5. Дата остановки: 2021-01-04;
6. Аудитория: 15% новых пользователей из региона EU;
7. Назначение теста: тестирование изменений, связанных с внедрением улучшенной рекомендательной системы;
8. Ожидаемое количество участников теста: 6000.
9. Ожидаемый эффект: за 14 дней с момента регистрации в системе пользователи покажут улучшение каждой метрики не менее, чем на 10%:
	1. конверсии в просмотр карточек товаров — событие product_page
	2. просмотры корзины — product_cart
	3. покупки — purchase.

## Используемые инструменты
- Pandas, Numpy, Matplotlib, Seaborn, plotly, scipy.stats (проверка гипотез)


## Общий вывод

В ходе исследования было загружено и приведено в соответствующий вид 4 блока данных.

В данных файла, еще на этапе предобработки было замечено, что записи файла final_ab_new_users.csv содержали даты вплоть до 2020-12-23, хотя согласно условий ТЗ крайняя дата должна была равнятся 2020-12-21.

Другая проблема была уже в файле final_ab_events, а именно то последние событие совершено 2020-12-30, что опять же не совпадает с датой окончания теста 2021-01-04. Данный факт сразу срезает плановых 5 дней

Еще одна проблема была в final_ab_participants, в данном файле в ходе предобработки было выявлено, что 1602 пользователя попали одновременно в два теста. 819 из этих пользователей оставили в тесте, так как в паралельном тесте они попали в контрольную группу (A), так же были исключены из анализа 1774 аномально активных (c 2020-12-14) пользователей из числа группы A, так как с этой даты активность пользователей в разы выросла, а пользователей без действий замечено не было у этой группы. Итого для теста подходило только 3794 из ожидаемых 6000. Цель ТЗ 15% из региона EU достигнута на 59.74%%, цель по ожидаемой аудитории в количестве 6000 достигнута на 63.23%.

Пересечений между группами в рамках одного теста обнаружено не было.

Так же в период проведения A/B теста проходила промоакция - Christmas&New Year Promo, но с учетом обнаруженных проблем и того, что будет описано далее, данная промоакция не сыграла никакой роли. Кроме того, проводить A/B тест во время наступающих праздников плохая идея (если конечно фирма не занимается предпраздничными продажами), так как поведение пользователей сильно отличается от обычного.

Из 3794 пользователей, какие либо действия, кроме регистрации, совершали только 1276 (в долях активные пользователи разделились следующим образом A:40%, из группы B:60%).

Последним днем теста считаем 2020-12-29, так как после этой даты никаких значимых событий не происходило.

С учетом всего выше сказанного, тестовая группа (с новой рекомендательной системой) не показала себя лучше чем контрольная в части конверсий по шагам (тестовая группа уступает по всем шагам -15% до -3%, за исключением шага покупки, там она показывает прирост в +5%), согласно ТЗ ожидался прирост конверсии в тестовой группе по каждому шагу на +10%. Статистические тесты покзаывают, что статистически значимая разница между долями групп в разрезе шагов признана только по отношению шага product_page.

В целом A/B тест можно признать не состоятельным, ввиду большого числа нарушений условий ТЗ, и проблем сбора данных начиная с 2020-12-14. Требуется проведение повторного теста, после исправления ошибок по сегментации пользователей и прочих недочетов описанных выше, а так же в период свободных от праздников (данная рекомендация может не учитываться, если фирма ориентированна именно на такой период)